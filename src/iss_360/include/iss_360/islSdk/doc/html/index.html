<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Impact Subsea SDK: Impact Subsea SDK</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Impact Subsea SDK<span id="projectnumber">&#160;V1.0.5</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Impact Subsea SDK </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_mainpage"></a></p><div style="color:red;" align="center"> Read this page first to understand the basics of the SDK!</div><h1><a class="anchor" id="autotoc_md1"></a>
Introduction</h1>
<p >The Software Development Kit (“SDK”) is a software library that simplifies the development of an application intended to communicate with Impact Subsea products. The SDK provides the following:</p><ul>
<li>Ability to open, close and manage the computer’s serial and network ports;</li>
<li>Automatically discover Impact Subsea devices connected to the computer;</li>
<li>Dynamically create an object to manage each discovered device and allow the user’s application to interact with the device via this object.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Fundamentals</h1>
<p >The SDK is written in C and is provided as a set of files consisting of the complied library file and associated header files. Other than the standard C library the SDK has no other dependencies making it operating system independent.</p>
<p >As standard the SDK is compiled to a static library file for X64 architectures, ".lib" for Windows and ".a" for Unix, as well as for ARMv8-A processors (as found in most phones, tablets and the Raspberry Pi). It may be possible to complie the SDK for other architectures on request.</p>
<p >The SDK has been written with embedded credit card computers in mind, such as the Raspberry Pi and Beagle Bone type systems. These are the recommended minimum standard as double floating point numbers are commonly used. The minimum hardware specification is:</p><ul>
<li>100Mhz 32-bit processor with FPU (Floating Point Unit)</li>
<li>8MB RAM</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Architecture</h1>
<p >In order for the SDK to be operating system independent, all functions that interact with the system are implemented as function pointer calls from within the SDK. These function pointer variables are publicly accessible and must be set by the user to point to the relevant implementations, such as opening a serial port. The platform implementation functions are the user’s responsibility but the Windows and Unix implementation have been included for your use/adaption. Once the platform function pointers have been set, a call to the IslSdkInitialise() function can be made. The IslSdkRun() function must then be called repetitively at a rate which gives the required responsiveness, we recommend every 2 to 10 milliseconds. The IslSdkRun() function is non blocking and runs all the SDK tasks. It has been designed so that it can be called from an alternate thead to the appication. The SDK contains a simple mechanism to deal with cross thread synchronisation. A FIFO type command queue is used to send data into the SDK. The user’s application calls the available SDK functions and they place data and commands onto the command queue. The IslSdkRun() function pulls commands off the queue and processes them.</p>
<p >For this reason, function calls to the SDK rarely return anything. Any expected data is passed out the SDK though events.</p>
<p >When the SDK has information to send to the user’s application, such as SDK status or device data, it places it on the event queue (also a FIFO) with a time stamp. When data is placed into the event queue the SDK notifies the user’s application that data is available in the event queue by calling the function pointer <code><a class="el" href="">newEvent</a></code> that was passed in the IslSdkInitialise() call.</p>
<p >This function pointer call is made from the IslSdkRun() call, so users need to implement a safe cross thread mechanism if IslSdkRun() was called from an alternate thread.</p>
<p >Any events on the queue are popped off and dispatched through the user set callbacks by the SDK whenever IslSdkFireEvents() is called. The callbacks are called from the IslSdkFireEvents() function so will be on the same thread as IslSdkFireEvents() was called. Here is the list of callbacks that should be set by the user.</p>
<ul>
<li><code><a class="el" href="">portEvent</a></code>. Set by IslSdkInitialise(). See <a class="el" href="isl_sdk_port_8h.html#a3f7a893f20d92513a6daf2313bbf8d11" title="When a port event occurs a callback function with the signature sdkEventHandler_t is called.">portEvent_t</a> for a list of events</li>
<li><code><a class="el" href="">deviceEvent</a></code>. Set by IslSdkInitialise(). See <a class="el" href="isl_sdk_device_8h.html#ae2462e40fdd95fdc4cdcc42af6ce15d0" title="When a device event occurs that can be handled without knowing exactly what device it is a callback f...">deviceEvent_t</a> for a list of events</li>
<li>Logging <code><a class="el" href="">callback</a></code>. Set by IslSdkLogSetEvent(). See <a class="el" href="isl_sdk_logging_8h.html#a3591fbf869b4addf4d248b3bc4f20baf" title="When a logging event occurs a callback function with the signature sdkEventHandler_t is called.">logEvent_t</a> for a list of events</li>
<li>ISS360 sonar <code><a class="el" href="">callback</a></code>. Set by IslSdkIss360SetEvent(). See <a class="el" href="isl_sdk_iss360_8h.html#a5ea5f890aa1d09d1f3c816b22c6421bd" title="When an iss360 event occurs a callback function with the signature sdkEventHandler_t is called.">iss360Event_t</a> for a list of events</li>
</ul>
<div class="image">
<img src="SDKarch.png" alt=""/>
<div class="caption">
SDK Architecture</div></div>
   <h1><a class="anchor" id="autotoc_md4"></a>
Usage</h1>
<p >Once the SDK file is unzipped it will contain the following files and directory structure:</p>
<table class="doxtable">
<tr>
<th>Files </th><th>Description  </th></tr>
<tr>
<td nowrap="nowrap"><ul>
<li><b>islSdk</b><ul>
<li>islSdk_X64.lib</li>
<li>islSdk_X64.a</li>
<li>islSdk_AArch64.a</li>
<li><a class="el" href="isl_sdk_8h.html">islSdk.h</a></li>
<li><a class="el" href="isl_sdk_device_8h.html">islSdkDevice.h</a></li>
<li><a class="el" href="isl_sdk_firmware_8h.html">islSdkFirmware.h</a></li>
<li><a class="el" href="isl_sdk_logging_8h.html">islSdkLogging.h</a></li>
<li><a class="el" href="isl_sdk_port_8h.html">islSdkPort.h</a></li>
<li><a class="el" href="isl_sdk_vector_8h.html">islSdkVector.h</a></li>
<li><a class="el" href="isl_sdk_ahrs_8h.html">islSdkAhrs.h</a></li>
<li><a class="el" href="isl_sdk_iss360_8h.html">islSdkIss360.h</a></li>
<li><a class="el" href="isl_sdk_isa500_8h.html">islSdkIsa500.h</a></li>
<li><a class="el" href="isl_sdk_isd4000_8h.html">islSdkIsd4000.h</a></li>
<li><a class="el" href="isl_sdk_ism3d_8h.html">islSdkIsm3d.h</a></li>
<li><b>helpers</b><ul>
<li><a class="el" href="ahrs_cal_8h.html">ahrsCal.h</a></li>
<li><a class="el" href="log_helper_8h.html">logHelper.h</a></li>
<li><a class="el" href="gps_nmea_parser_8h.html">gpsNmeaParser.h</a></li>
<li><a class="el" href="sonar_image_8h.html">sonarImage.h</a></li>
</ul>
</li>
<li><b>platform</b><ul>
<li><a class="el" href="debug_8h.html">debug.h</a></li>
<li><a class="el" href="file_8h.html">file.h</a></li>
<li><a class="el" href="mem_8h.html">mem.h</a></li>
<li><a class="el" href="network_8h.html">network.h</a></li>
<li><a class="el" href="sdk_types_8h.html">sdkTypes.h</a></li>
<li><a class="el" href="time_utils_8h.html">timeUtils.h</a></li>
<li><a class="el" href="uart_8h.html">uart.h</a></li>
</ul>
</li>
</ul>
</li>
<li><b>doc</b><ul>
<li><b>html</b></li>
<li>documentation.html</li>
</ul>
</li>
<li><b>exampleApp</b></li>
<li>CMakeLists.txt  </li>
</ul>
</td><td nowrap="nowrap"><b>This folder contains the SDK</b><br  />
 64-bit complied static library for Windows<br  />
 64-bit complied static library for Unix<br  />
 64-bit complied static library for 64-bit ARMv8A processors<br  />
 Main sdk file to include<br  />
 Module to manage devices<br  />
 Module to manage firmware updates<br  />
 Module to create, open and playback log files<br  />
 Module to auto discover devices and manage serial / network ports<br  />
 Module to process vectors and extract euler angles from quaternions<br  />
 Module to interface to AHRS when the device has this option<br  />
 Module to interface to the ISS360 sonar<br  />
 Module to interface to the ISA500 altimeter<br  />
 Module to interface to the ISD4000 depth / pressure sensor<br  />
 Module to interface to the ISM3D AHRS sensor<br  />
 <b>This folder contains helper modules for the users app</b><br  />
 Module to perform calibrations for magnetometer and accelerometer<br  />
 Module to serialise structs into a log file and de-serialise structs from a log file<br  />
 Module to parse GPS NMEA strings<br  />
 Module to render a sonar image<br  />
 <b>This folder contains files that hold function pointer to interact with the system</b><br  />
 Debugging macros<br  />
 Function pointers for file interaction<br  />
 Memory macros<br  />
 Function pointers for network interaction<br  />
 Type definitions<br  />
 Function pointers for time interaction<br  />
 Function pointers for serial port interaction<br  />
 <b>Folder containing this documentation</b><br  />
 Doxygen generated html<br  />
 Documentation start page<br  />
 <b>Folder containing example code for the SDK</b><br  />
 cmake file to build the example code<br  />
   </td></tr>
</table>
<p >To use the SDK within a project place the unzipped islSdk folder near or in your project directory and ensure the following:</p><ul>
<li>Add the library file to the project so the linker can find it</li>
<li>Add the islSdk folder to the compilers include path</li>
<li>Include <a class="el" href="isl_sdk_8h.html">islSdk.h</a> in the application project</li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md5"></a>
Module Description</h1>
<h3><a class="anchor" id="autotoc_md6"></a>
islSdk.h</h3>
<p >This is the top level module; it includes the other SDK modules. It contains only a few fundamental functions for starting, shutting down the SDK and triggering the dispatching of events.</p>
<h3><a class="anchor" id="autotoc_md7"></a>
islSdkPort.h</h3>
<p >This module provides device auto discovery and management of the serial and network ports. It is a core module and is always needed.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
islSdkDevice.h</h3>
<p >All Impact Subsea product share some common behaviour such as loading firmware and discovery, regardless of whether it’s a sonar or altimeter. This module provides the base functionality and is always needed.</p>
<h3><a class="anchor" id="autotoc_md9"></a>
islSdkFirmware.h</h3>
<p >This module enables the loading of firmware files (.fwi). Once loaded into the SDK devices can be updated. This module is optional.</p>
<h3><a class="anchor" id="autotoc_md10"></a>
islSdkLogging.h</h3>
<p >This module provides high level functions for creating, opening and playing log files. The file data is raw binary and consists of a file header followed by a list of records. Each record has a header containing a track id which allows for grouping or filtering of records. This is used to allow multiple devices to each log to a track in 1 file. The user can use this optional module to log any arbitrary data.</p>
<h3><a class="anchor" id="autotoc_md11"></a>
islSdkVector.h</h3>
<p >This module provides functions for 3D vector math and quaternions. The function QuaternionToEulerAngles() is helpful for getting heading pitch and roll.</p>
<h3><a class="anchor" id="autotoc_md12"></a>
islSdkIss360.h</h3>
<p >This module provides high level functions for using the ISS360 sonar. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
