<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Impact Subsea SDK: C:/Users/Alastair/code/islSdk/sdk/src/include/islSdk.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Impact Subsea SDK<span id="projectnumber">&#160;V1.0.5</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('isl_sdk_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">islSdk.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sdk_types_8h_source.html">platform/sdkTypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_port_8h_source.html">islSdkPort.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_firmware_8h_source.html">islSdkFirmware.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_logging_8h_source.html">islSdkLogging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_vector_8h_source.html">islSdkVector.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_device_8h_source.html">islSdkDevice.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_ahrs_8h_source.html">islSdkAhrs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_isa500_8h_source.html">islSdkIsa500.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_isd4000_8h_source.html">islSdkIsd4000.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_ism3d_8h_source.html">islSdkIsm3d.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="isl_sdk_iss360_8h_source.html">islSdkIss360.h</a>&quot;</code><br />
</div>
<p><a href="isl_sdk_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac95e4f2cac334e86006143958578c8b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sdk_types_8h.html#a2b21255bd7f7192db778983b15089208">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isl_sdk_8h.html#ac95e4f2cac334e86006143958578c8b7">islSdkInitialise</a> (void(*newEvent)(void), <a class="el" href="sdk_types_8h.html#a3fe5832f803ea2c2aa678f37e9f0b776">sdkEventHandler_t</a> portEvent, <a class="el" href="sdk_types_8h.html#a3fe5832f803ea2c2aa678f37e9f0b776">sdkEventHandler_t</a> deviceEvent)</td></tr>
<tr class="memdesc:ac95e4f2cac334e86006143958578c8b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises and starts the SDK thread.  <a href="isl_sdk_8h.html#ac95e4f2cac334e86006143958578c8b7">More...</a><br /></td></tr>
<tr class="separator:ac95e4f2cac334e86006143958578c8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198d27a7cb3c51217f45cc1505420b30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isl_sdk_8h.html#a198d27a7cb3c51217f45cc1505420b30">islSdkRun</a> (void)</td></tr>
<tr class="memdesc:a198d27a7cb3c51217f45cc1505420b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run all the SDK tasks.  <a href="isl_sdk_8h.html#a198d27a7cb3c51217f45cc1505420b30">More...</a><br /></td></tr>
<tr class="separator:a198d27a7cb3c51217f45cc1505420b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec7d37551bf66e37a4e9e2e42010915"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isl_sdk_8h.html#a7ec7d37551bf66e37a4e9e2e42010915">islSdkFireEvents</a> (void)</td></tr>
<tr class="memdesc:a7ec7d37551bf66e37a4e9e2e42010915"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers the processing of the event queue.  <a href="isl_sdk_8h.html#a7ec7d37551bf66e37a4e9e2e42010915">More...</a><br /></td></tr>
<tr class="separator:a7ec7d37551bf66e37a4e9e2e42010915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f457eb8e46850995a30b1634aba981"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isl_sdk_8h.html#a59f457eb8e46850995a30b1634aba981">islSdkExit</a> (void)</td></tr>
<tr class="memdesc:a59f457eb8e46850995a30b1634aba981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the SDK.  <a href="isl_sdk_8h.html#a59f457eb8e46850995a30b1634aba981">More...</a><br /></td></tr>
<tr class="separator:a59f457eb8e46850995a30b1634aba981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe04ec402edaed14827cd11730bb1d66"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isl_sdk_8h.html#abe04ec402edaed14827cd11730bb1d66">islSdkGetEpochMsTime</a> (uint64_t sdkTimeMs)</td></tr>
<tr class="memdesc:abe04ec402edaed14827cd11730bb1d66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the event SDK millsecond timeMs parameter to the number of milliseconds since the Unix epoch.  <a href="isl_sdk_8h.html#abe04ec402edaed14827cd11730bb1d66">More...</a><br /></td></tr>
<tr class="separator:abe04ec402edaed14827cd11730bb1d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9eaf6bb1eca5cc75eee71b0ef8cc07"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isl_sdk_8h.html#a2c9eaf6bb1eca5cc75eee71b0ef8cc07">islSdkVersion</a> (void)</td></tr>
<tr class="memdesc:a2c9eaf6bb1eca5cc75eee71b0ef8cc07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the version of SDK.  <a href="isl_sdk_8h.html#a2c9eaf6bb1eca5cc75eee71b0ef8cc07">More...</a><br /></td></tr>
<tr class="separator:a2c9eaf6bb1eca5cc75eee71b0ef8cc07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab46b7a3b2e3d062e959a7875db11fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="isl_sdk_8h.html#a0ab46b7a3b2e3d062e959a7875db11fd">islSdkSetDeviceRediscoveryTimings</a> (uint32_t count, uint32_t timeoutMs)</td></tr>
<tr class="memdesc:a0ab46b7a3b2e3d062e959a7875db11fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the number of retries and interval to seach for devices once comms are lost  <a href="isl_sdk_8h.html#a0ab46b7a3b2e3d062e959a7875db11fd">More...</a><br /></td></tr>
<tr class="separator:a0ab46b7a3b2e3d062e959a7875db11fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a59f457eb8e46850995a30b1634aba981" name="a59f457eb8e46850995a30b1634aba981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f457eb8e46850995a30b1634aba981">&#9670;&nbsp;</a></span>islSdkExit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void islSdkExit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down the SDK. </p>
<p >This function closes all resources and frees all memory. </p>

</div>
</div>
<a id="a7ec7d37551bf66e37a4e9e2e42010915" name="a7ec7d37551bf66e37a4e9e2e42010915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec7d37551bf66e37a4e9e2e42010915">&#9670;&nbsp;</a></span>islSdkFireEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void islSdkFireEvents </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Triggers the processing of the event queue. </p>
<p >Ideally this should be called from the thread that will handle all SDK events to avoid thread synchronisation issues. It can either be frequently called or in responce to the newEvent callback, (the first parameter passed to <a class="el" href="isl_sdk_8h.html#ac95e4f2cac334e86006143958578c8b7" title="Initialises and starts the SDK thread.">islSdkInitialise()</a>). This function pops messages off the SDK's event queue and calls the appropriate callbacks. </p>

</div>
</div>
<a id="abe04ec402edaed14827cd11730bb1d66" name="abe04ec402edaed14827cd11730bb1d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe04ec402edaed14827cd11730bb1d66">&#9670;&nbsp;</a></span>islSdkGetEpochMsTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t islSdkGetEpochMsTime </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>sdkTimeMs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the event SDK millsecond timeMs parameter to the number of milliseconds since the Unix epoch. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of milliseconds since the Unix epoch - 00:00:00 UTC on 1 January 1970 </dd></dl>

</div>
</div>
<a id="ac95e4f2cac334e86006143958578c8b7" name="ac95e4f2cac334e86006143958578c8b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac95e4f2cac334e86006143958578c8b7">&#9670;&nbsp;</a></span>islSdkInitialise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sdk_types_8h.html#a2b21255bd7f7192db778983b15089208">bool_t</a> islSdkInitialise </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>newEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sdk_types_8h.html#a3fe5832f803ea2c2aa678f37e9f0b776">sdkEventHandler_t</a>&#160;</td>
          <td class="paramname"><em>portEvent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sdk_types_8h.html#a3fe5832f803ea2c2aa678f37e9f0b776">sdkEventHandler_t</a>&#160;</td>
          <td class="paramname"><em>deviceEvent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialises and starts the SDK thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newEvent</td><td>A pointer to a function that will be called every time the event queue transitions to not empty </td></tr>
    <tr><td class="paramname">portEvent</td><td>A pointer to a function that will be called when there is a port event </td></tr>
    <tr><td class="paramname">deviceEvent</td><td>A pointer to a function that will be called when there is a generic device event </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>TRUE if succeeded</li>
<li>FALSE if already called or a parameter was NULL </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function must be called before any other SDK function with the exception of <a class="el" href="isl_sdk_8h.html#a2c9eaf6bb1eca5cc75eee71b0ef8cc07" title="Get the version of SDK.">islSdkVersion()</a> </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Platform function pointers must be set before calling this function </dd></dl>

</div>
</div>
<a id="a198d27a7cb3c51217f45cc1505420b30" name="a198d27a7cb3c51217f45cc1505420b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198d27a7cb3c51217f45cc1505420b30">&#9670;&nbsp;</a></span>islSdkRun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void islSdkRun </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run all the SDK tasks. </p>
<p >Just about all SDK functionality happens under this function call. Here is a basic list of the SDK tasks.</p><ol type="1">
<li>Manages serial and network ports</li>
<li>Processes and manage device tasks and auto discovery</li>
<li>Manage logging playback</li>
<li>Place SDK events on the event queue</li>
<li>Process user requests from the command queue This is a non blocking function that should be called periodically, every 50 milliseconds is ideal. </li>
</ol>

</div>
</div>
<a id="a0ab46b7a3b2e3d062e959a7875db11fd" name="a0ab46b7a3b2e3d062e959a7875db11fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab46b7a3b2e3d062e959a7875db11fd">&#9670;&nbsp;</a></span>islSdkSetDeviceRediscoveryTimings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void islSdkSetDeviceRediscoveryTimings </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeoutMs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets the number of retries and interval to seach for devices once comms are lost </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of retries </td></tr>
    <tr><td class="paramname">timeoutMs</td><td>The number of milliseconds to wait for a reply </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c9eaf6bb1eca5cc75eee71b0ef8cc07" name="a2c9eaf6bb1eca5cc75eee71b0ef8cc07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9eaf6bb1eca5cc75eee71b0ef8cc07">&#9670;&nbsp;</a></span>islSdkVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t islSdkVersion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the version of SDK. </p>
<dl class="section return"><dt>Returns</dt><dd>The version in BCD (Binary Coded Decimal) format. Each nibble represents a digit eg 0x1234 = V1.2.3.4 </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="isl_sdk_8h.html">islSdk.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
